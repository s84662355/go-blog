{"remainingRequest":"/Users/chenjiahao/GoDemo/go-blog/vue-element-admin/node_modules/babel-loader/lib/index.js!/Users/chenjiahao/GoDemo/go-blog/vue-element-admin/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/chenjiahao/GoDemo/go-blog/vue-element-admin/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/chenjiahao/GoDemo/go-blog/vue-element-admin/src/views/articles/list/index.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/chenjiahao/GoDemo/go-blog/vue-element-admin/src/views/articles/list/index.vue","mtime":1608620386753},{"path":"/Users/chenjiahao/GoDemo/go-blog/vue-element-admin/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/chenjiahao/GoDemo/go-blog/vue-element-admin/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/chenjiahao/GoDemo/go-blog/vue-element-admin/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/chenjiahao/GoDemo/go-blog/vue-element-admin/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["\"use strict\";\n\nvar _interopRequireDefault = require(\"/Users/chenjiahao/GoDemo/go-blog/vue-element-admin/node_modules/@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _interopRequireWildcard2 = _interopRequireDefault(require(\"/Users/chenjiahao/GoDemo/go-blog/vue-element-admin/node_modules/@babel/runtime-corejs2/helpers/interopRequireWildcard\"));\n\nvar _article = require(\"@/api/article\");\n\nvar _waves = _interopRequireDefault(require(\"@/directive/waves\"));\n\nvar _utils = require(\"@/utils\");\n\nvar _Pagination = _interopRequireDefault(require(\"@/components/Pagination\"));\n\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n// waves directive\n// Secondary package based on el-pagination\nvar statusMap = [{\n  value: 1,\n  name: '发布'\n}, {\n  value: 0,\n  name: '未发布'\n}];\nvar _default = {\n  name: 'ArticleList',\n  directives: {\n    waves: _waves.default\n  },\n  components: {\n    Pagination: _Pagination.default\n  },\n  filters: {\n    statusFilter: function statusFilter(status) {\n      var statusMap = {\n        1: 'success',\n        0: 'info',\n        10: 'danger'\n      };\n      return statusMap[status];\n    },\n    statusNameFilter: function statusNameFilter(status) {\n      return statusMap[status];\n    }\n  },\n  data: function data() {\n    return {\n      list: null,\n      total: 0,\n      listLoading: true,\n      listQuery: {\n        page: 1,\n        limit: 10,\n        importance: undefined,\n        title: undefined,\n        status: undefined,\n        dateValue: '',\n        cate_id: ''\n      },\n      importanceOptions: [1, 2, 3],\n      statusMap: statusMap,\n      dialogFormVisible: false,\n      dialogStatus: '',\n      textMap: {\n        update: 'Edit',\n        create: 'Create'\n      },\n      dialogPvVisible: false,\n      downloadLoading: false,\n      catelistData: []\n    };\n  },\n  created: function created() {\n    var _this = this;\n\n    this.getList();\n    (0, _article.cateList)().then(function (response) {\n      _this.catelistData = response.data;\n    });\n  },\n  methods: {\n    handleFilter: function handleFilter() {\n      this.listQuery.page = 1;\n      this.getList();\n    },\n    resetTemp: function resetTemp() {\n      this.temp = {\n        id: undefined,\n        importance: 1,\n        remark: '',\n        timestamp: new Date(),\n        title: '',\n        status: 'published',\n        type: ''\n      };\n    },\n    formatJson: function formatJson(filterVal, jsonData) {\n      return jsonData.map(function (v) {\n        return filterVal.map(function (j) {\n          if (j === 'timestamp') {\n            return (0, _utils.parseTime)(v[j]);\n          } else {\n            return v[j];\n          }\n        });\n      });\n    },\n    handleCreate: function handleCreate() {\n      var _this2 = this;\n\n      this.resetTemp();\n      this.dialogStatus = 'create';\n      this.dialogFormVisible = true;\n      this.$nextTick(function () {\n        _this2.$refs['dataForm'].clearValidate();\n      });\n    },\n    handleDownload: function handleDownload() {\n      var _this3 = this;\n\n      this.downloadLoading = true;\n      Promise.resolve().then(function () {\n        return (0, _interopRequireWildcard2.default)(require('@/vendor/Export2Excel'));\n      }).then(function (excel) {\n        var tHeader = ['display_time', 'title', 'importance', 'status'];\n        var filterVal = ['display_time', 'title', 'importance', 'status'];\n\n        var data = _this3.formatJson(filterVal, _this3.list);\n\n        excel.export_json_to_excel({\n          header: tHeader,\n          data: data,\n          filename: 'table-list'\n        });\n        _this3.downloadLoading = false;\n      });\n    },\n    getList: function getList() {\n      var _this4 = this;\n\n      this.listLoading = true;\n      /*\n            fetchList(this.listQuery).then(response => {\n               this.list = response.data.items\n               this.total = response.data.total\n               this.listLoading = false\n            })\n      */\n\n      (0, _article.articleList)(this.listQuery).then(function (response) {\n        _this4.list = response.data.list;\n        _this4.listLoading = false;\n        _this4.total = response.data.paginator.total;\n      });\n    }\n  }\n};\nexports.default = _default;",null]}