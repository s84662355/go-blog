{"remainingRequest":"/Users/chenjiahao/GoDemo/go-blog/vue-element-admin/node_modules/babel-loader/lib/index.js!/Users/chenjiahao/GoDemo/go-blog/vue-element-admin/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/chenjiahao/GoDemo/go-blog/vue-element-admin/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/chenjiahao/GoDemo/go-blog/vue-element-admin/src/views/index/setting/websiteInfo.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/chenjiahao/GoDemo/go-blog/vue-element-admin/src/views/index/setting/websiteInfo.vue","mtime":1608976768292},{"path":"/Users/chenjiahao/GoDemo/go-blog/vue-element-admin/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/chenjiahao/GoDemo/go-blog/vue-element-admin/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/chenjiahao/GoDemo/go-blog/vue-element-admin/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/chenjiahao/GoDemo/go-blog/vue-element-admin/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["\"use strict\";\n\nvar _interopRequireDefault = require(\"/Users/chenjiahao/GoDemo/go-blog/vue-element-admin/node_modules/@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _Tinymce = _interopRequireDefault(require(\"@/components/Tinymce\"));\n\nvar _SingleImage = _interopRequireDefault(require(\"@/components/Upload/SingleImage3\"));\n\nvar _MDinput = _interopRequireDefault(require(\"@/components/MDinput\"));\n\nvar _Sticky = _interopRequireDefault(require(\"@/components/Sticky\"));\n\nvar _validate = require(\"@/utils/validate\");\n\nvar _setting = require(\"@/api/setting\");\n\nvar _remoteSearch = require(\"@/api/remote-search\");\n\nvar _vueQuillEditor = require(\"vue-quill-editor\");\n\nrequire(\"quill/dist/quill.core.css\");\n\nrequire(\"quill/dist/quill.snow.css\");\n\nrequire(\"quill/dist/quill.bubble.css\");\n\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n// 粘性header组件\nvar defaultForm = {\n  avatar: 'https://s2.ax1x.com/2020/01/17/1SCadg.png',\n  slogan: 'The way up is not crowded, and most chose ease.',\n  name: 'FZY′blog',\n  domain: 'https://www.fengziy.cn',\n  notice: '本博客的Demo数据由Mockjs生成',\n  desc: '一个It技术的探索者'\n};\nvar _default = {\n  name: 'Websiteinfo',\n  components: {\n    Tinymce: _Tinymce.default,\n    MDinput: _MDinput.default,\n    Upload: _SingleImage.default,\n    Sticky: _Sticky.default,\n    quillEditor: _vueQuillEditor.quillEditor\n  },\n  props: {\n    isEdit: {\n      type: Boolean,\n      default: false\n    }\n  },\n  data: function data() {\n    var _this = this;\n\n    var validateRequire = function validateRequire(rule, value, callback) {\n      if (value === '') {\n        _this.$message({\n          message: rule.field + '为必传项',\n          type: 'error'\n        });\n\n        callback(new Error(rule.field + '为必传项'));\n      } else {\n        callback();\n      }\n    };\n\n    var validateSourceUri = function validateSourceUri(rule, value, callback) {\n      if (value) {\n        if ((0, _validate.validURL)(value)) {\n          callback();\n        } else {\n          _this.$message({\n            message: '外链url填写不正确',\n            type: 'error'\n          });\n\n          callback(new Error('外链url填写不正确'));\n        }\n      } else {\n        callback();\n      }\n    };\n\n    return {\n      postForm: Object.assign({}, defaultForm),\n      loading: false,\n      avatar: 'https://s2.ax1x.com/2020/01/17/1SCadg.png',\n      slogan: 'The way up is not crowded, and most chose ease.',\n      name: 'FZY′blog',\n      domain: 'https://www.fengziy.cn',\n      notice: '本博客的Demo数据由Mockjs生成',\n      desc: '一个It技术的探索者',\n      rules: {\n        avatar: [{\n          validator: validateRequire\n        }],\n        slogan: [{\n          validator: validateRequire\n        }],\n        name: [{\n          validator: validateRequire\n        }],\n        domain: [{\n          validator: validateRequire\n        }],\n        notice: [{\n          validator: validateRequire\n        }],\n        desc: [{\n          validator: validateRequire\n        }]\n      },\n      editorOption: {}\n    };\n  },\n  computed: {\n    contentShortLength: function contentShortLength() {\n      return this.postForm.summary.length;\n    },\n    lang: function lang() {\n      return this.$store.getters.language;\n    }\n  },\n  created: function created() {\n    var _this2 = this;\n\n    (0, _setting.GetWebsiteInfo)().then(function (response) {\n      _this2.postForm = response.data;\n    });\n  },\n  methods: {\n    fetchData: function fetchData(id) {\n      var _this3 = this;\n\n      fetchArticle(id).then(function (response) {\n        _this3.postForm = response.data;\n        _this3.postForm.comment_disabled = response.data.comment_disabled == 0 ? false : true;\n        _this3.postForm.author = response.data.authorname; // set tagsview title\n\n        _this3.setTagsViewTitle(); // set page title\n\n\n        _this3.setPageTitle();\n      }).catch(function (err) {\n        console.log(err);\n      });\n    },\n    setTagsViewTitle: function setTagsViewTitle() {\n      var title = this.lang === 'zh' ? '编辑文章' : 'Edit Article';\n      var route = Object.assign({}, this.tempRoute, {\n        title: \"\".concat(title, \"-\").concat(this.postForm.id)\n      });\n      this.$store.dispatch('tagsView/updateVisitedView', route);\n    },\n    setPageTitle: function setPageTitle() {\n      var title = 'Edit Article';\n      document.title = \"\".concat(title, \" - \").concat(this.postForm.id);\n    },\n    submitForm: function submitForm() {\n      var _this4 = this;\n\n      this.$refs.postForm.validate(function (valid) {\n        if (valid) {\n          _this4.loading = true;\n          (0, _setting.PostWebsiteInfo)({\n            websiteInfo: _this4.postForm\n          }).then(function () {\n            _this4.loading = false;\n\n            _this4.$notify({\n              title: 'Success',\n              dangerouslyUseHTMLString: true,\n              message: '修改成功',\n              type: 'success',\n              duration: 2000\n            }); ///     this.$router.push({path:'/articles/list' });\n\n          }); // this.$notify({\n          //   title: '成功',\n          //   message: '发布文章成功',\n          //   type: 'success',\n          //   duration: 2000\n          // })\n          // this.postForm.status = 'published'\n\n          _this4.loading = false;\n        } else {\n          console.log('error submit!!');\n          return false;\n        }\n      });\n    },\n    draftForm: function draftForm() {},\n    getRemoteUserList: function getRemoteUserList(query) {}\n  }\n};\nexports.default = _default;",null]}